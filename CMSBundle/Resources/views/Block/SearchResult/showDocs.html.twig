{##
 # This file is part of the PHPOrchestra\CMSBundle.
 #
 # @author Benjamin Fouch√© <benjamin.fouche@businessdecision.com>
 ##}
 <div id="docsid" class="showdoc">

 {# Display all documents in resultset #}
{% for doc in resultset %}
            <ul>
                {% for link in fieldLink if doc[link] is defined %}
                    <li><a href="{{ doc.url }}" class="doclink">{{ doc[link] }} </a></li>
                    {% for fieldname, fieldvalue in doc %}
                        {% if fieldname in fieldsdisplayed %}
                            {% include
                            "PHPOrchestraCMSBundle:Block/SearchResult:showField.html.twig"
                            with {"fieldname": fieldname, "fieldvalue": fieldvalue}
                            %}
                            {#% if fieldvalue is iterable %}
                                {% for field in fieldvalue %}
                                    <li class="field">{{ field | truncate(limitField, true, '...') }}</li>
                                {% endfor %}
                            {% else %}
                                <li class="field">{{ fieldvalue | truncate(limitField, true, '...') }}</li>
                            {% endif %#}
                        {% endif %}
                    {% endfor %}
                {% endfor %}
            </ul>
{% endfor %}
</div>

{# Pagination #}
{% set nbpage = (resultset.numfound / nbdocs)| round(0, 'ceil') %}

{% if nbpage > 1 %}
<div class="pagination">
	<ul>
		{# We use range(a, b) function which create an array of value between a and b #}
		
		{% for p in range(1, nbpage ) %}
			<li{% if p == page %} class="btn-pagination"{% endif %}>
				<a href="{{ path('php_orchestra_cms_node', {'nodeId': nodeId, 'page': p, 'terms': data}) }}">{{ p }}</a>
			</li> 
		{% endfor %}
	</ul>
</div>
{% endif %}
